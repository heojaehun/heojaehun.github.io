+++
title = "RTC"
date = "2025-10-01T06:10:13+09:00"

tags = ["Hardware"]
+++

RTC는 Real-time clock이라고 해서 어떤 시스템에 전원이 꺼지더라도 시간 정보를 계속 유지할 수 있도록 하는 장치이다. 


## 배터리 

보통 CR2032와 같은 코인 배터리와 함께 사용한다. 
시스템이 꺼져 있는 동안은 배터리를 소모하며 시간 정보를 유지하고, 시스템이 켜져 있을 때는 배터리 소모 없이 유지할 수 있다. 
그래서 RTC를 포함한 제품을 생산하였다면 출하 직전에 배터리를 장착해야 불필요한 전력 소모를 방지할 수 있다. 
생산할 때 배터리를 장착하고 창고에 쌓아 몇 개월 방치한다면 실제 사용할 때는 배터리가 모두 소모될 수 있다. 


## 온도에 따른 오차

RTC는 온도에 민감한 편이다. 
정확히는 RTC 내부에서 사용하는 클록 소스가 온도에 따라 오차를 만든다. 
얼마나 오차가 생기는지 나타내는 단위로 ppm을 사용한다. 
섭씨 25도에서 가장 오차가 적고 온도가 영하이거나 40도를 넘어가면 오차가 매우 커진다.
온도에 따른 오차 정도는 RTC 데이터 시트에 적혀있다. 
검토한 RTC 중 하나는 가장 나쁜 조건에서 -110ppm 오차가 생길 수 있었다.
(ppm이라는 단위는 아래에 설명한다.)


## 온도 보정

일반적인 RTC는 온도에 민감하지만, 온도에 따른 오차를 보정해 주는 RTC도 있다.
TCXO (Temperature Compensated Crystal Oscillator)를 사용하는 RTC다.
Analog Device 사의 DS3231SN이라는 RTC는 영하나 섭씨 40도 이상의 온도에서도 약 3.5ppm의 오차가 생기는 정도다.
계산을 해보면 1년에 2분이 채 안 되는 오차이다.
1년 내내 최악 조건이 유지되는 장소가 아니라면 그보다 더 적은 오차가 생길 것이다.


## ppm

ppm은 parts per million이고 "백만분의 몇"을 의미한다. 
만약 오차가 20ppm이 난다고 하면 1,000,000초 동안 20초 오차가 생길 수 있다는 의미이다. 
