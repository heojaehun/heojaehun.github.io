<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>gloang on ì‘ì—…ì‹¤ğŸ“¦ìƒì</title>
    <link>https://heojaehun.github.com/tags/gloang/</link>
    <description>Recent content in gloang on ì‘ì—…ì‹¤ğŸ“¦ìƒì</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-US</language>
    <copyright>Jaehun Heo (CC BY 4.0)</copyright>
    <lastBuildDate>Thu, 01 Feb 2024 09:50:57 +0900</lastBuildDate><atom:link href="https://heojaehun.github.com/tags/gloang/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Golang Mainí•¨ìˆ˜ í…ŒìŠ¤íŠ¸í•˜ê¸°</title>
      <link>https://heojaehun.github.com/blog/golang-main-test/</link>
      <pubDate>Thu, 01 Feb 2024 09:50:57 +0900</pubDate>
      
      <guid>https://heojaehun.github.com/blog/golang-main-test/</guid>
      <description>ì¼ëŸ¬ë‘ê¸° ì´ ê¸€ì€ &amp;lt;ì‹¤ë¬´ì— ë°”ë¡œ ì“°ëŠ” Go ì–¸ì–´ í•¸ì¦ˆì˜¨ ê°€ì´ë“œ&amp;gt;ì˜ ì—°ìŠµ ë¬¸ì œ 1.1ì„ ë‹¤ë£¹ë‹ˆë‹¤. ì—°ìŠµ ë¬¸ì œë¥¼ í’€ì–´ë³´ë©´ì„œ ì œê°€ ì–´ë–»ê²Œ ë‹µì„ ì‘ì„±í–ˆëŠ”ì§€ ì„¤ëª…í•˜ëŠ” ê¸€ì…ë‹ˆë‹¤. ê·¸ë¦¬ê³  ì¶œì œìì˜ ë‹µì•ˆê³¼ ë¹„êµí•˜ëŠ” ê¸€ì…ë‹ˆë‹¤. ë”°ë¼ì„œ ì œê°€ ì‘ì„±í•œ ì½”ë“œëŠ” ì© í›Œë¥­í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¶œì œìì˜ ì˜ë„ë¥¼ ì¶©ë¶„íˆ ë§Œì¡±í•˜ì§€ ëª»í•œ ë¶€ë¶„ë„ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ì‹œê°„ì´ ì—†ë‹¤ë©´ ì´ ê¸€ì˜ ì•ë¶€ë¶„ì„ ê±´ë„ˆë›°ê³  ë‹µì•ˆ ì½”ë“œë¥¼ ë°”ë¡œ ì½ëŠ” ê²Œ ì¢‹ê² ìŠµë‹ˆë‹¤. ë§ˆì¹¨ ì‹¬ì‹¬í•œë° ë‹¤ë¥¸ ì‚¬ëŒì´ ì–´ë–»ê²Œ ë¬¸ì œë¥¼ í’€ì—ˆë‚˜ ê¶ê¸ˆí•˜ì‹œë‹¤ë©´, ë°”ë¡œ ì•„ë˜ë¶€í„° ì½ì–´ë‚˜ê°€ì‹œë©´ ë©ë‹ˆë‹¤.</description>
      <content:encoded><![CDATA[<h2 id="ì¼ëŸ¬ë‘ê¸°">ì¼ëŸ¬ë‘ê¸°</h2>
<p>ì´ ê¸€ì€ &lt;ì‹¤ë¬´ì— ë°”ë¡œ ì“°ëŠ” Go ì–¸ì–´ í•¸ì¦ˆì˜¨ ê°€ì´ë“œ&gt;ì˜ ì—°ìŠµ ë¬¸ì œ 1.1ì„ ë‹¤ë£¹ë‹ˆë‹¤.
ì—°ìŠµ ë¬¸ì œë¥¼ í’€ì–´ë³´ë©´ì„œ ì œê°€ ì–´ë–»ê²Œ ë‹µì„ ì‘ì„±í–ˆëŠ”ì§€ ì„¤ëª…í•˜ëŠ” ê¸€ì…ë‹ˆë‹¤.
ê·¸ë¦¬ê³  ì¶œì œìì˜ ë‹µì•ˆê³¼ ë¹„êµí•˜ëŠ” ê¸€ì…ë‹ˆë‹¤.
ë”°ë¼ì„œ ì œê°€ ì‘ì„±í•œ ì½”ë“œëŠ” ì© í›Œë¥­í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ì¶œì œìì˜ ì˜ë„ë¥¼ ì¶©ë¶„íˆ ë§Œì¡±í•˜ì§€ ëª»í•œ ë¶€ë¶„ë„ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p>ì‹œê°„ì´ ì—†ë‹¤ë©´ ì´ ê¸€ì˜ ì•ë¶€ë¶„ì„ ê±´ë„ˆë›°ê³  ë‹µì•ˆ ì½”ë“œë¥¼ ë°”ë¡œ ì½ëŠ” ê²Œ ì¢‹ê² ìŠµë‹ˆë‹¤.
ë§ˆì¹¨ ì‹¬ì‹¬í•œë° ë‹¤ë¥¸ ì‚¬ëŒì´ ì–´ë–»ê²Œ ë¬¸ì œë¥¼ í’€ì—ˆë‚˜ ê¶ê¸ˆí•˜ì‹œë‹¤ë©´, ë°”ë¡œ ì•„ë˜ë¶€í„° ì½ì–´ë‚˜ê°€ì‹œë©´ ë©ë‹ˆë‹¤.</p>
<h2 id="ì—°ìŠµ-ë¬¸ì œ">ì—°ìŠµ ë¬¸ì œ</h2>
<p>ì—°ìŠµ ë¬¸ì œëŠ” ì±…ì—ì„œ ë‹¤ë£¬ ì˜ˆì œ ì½”ë“œì˜ main í•¨ìˆ˜ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.
ì˜ˆì œ ì½”ë“œì˜ ë‚´ìš©ì€ ì´ë ‡ìŠµë‹ˆë‹¤.</p>
<ol>
<li>ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•  ë•Œ ìˆ«ìë¥¼ ì¸ìë¡œ ë°›ìŠµë‹ˆë‹¤.</li>
<li>ìˆ«ìê°€ ì•„ë‹Œ ì¸ìë¥¼ ë°›ìœ¼ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ ì‚¬ìš©ë²•ì„ ì¶œë ¥í•˜ê³  ëëƒ…ë‹ˆë‹¤.</li>
<li>ì¸ìë¥¼ ìˆ«ìë¡œ ë°›ì•˜ë‹¤ë©´ ì´ë¦„ì„ ì…ë ¥í•˜ë¼ëŠ” ë¬¸ìì—´ì´ ì¶œë ¥ë©ë‹ˆë‹¤.</li>
<li>ì‚¬ìš©ìê°€ ì´ë¦„ì„ ì…ë ¥í•˜ê³  ë‚˜ë©´, ì¸ìë¡œ ë„˜ê¸´ ìˆ˜ë§Œí¼ ì´ë¦„ì´ ë°˜ë³µ ì¶œë ¥ë©ë‹ˆë‹¤.</li>
</ol>
<p>ì±…ì€ ì´ í”„ë¡œê·¸ë¨ì—ì„œ ë§Œë“  ëª¨ë“  í•¨ìˆ˜ì˜ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ê³  ì„¤ëª…í•©ë‹ˆë‹¤.
ë‹¨ í•œ ê°€ì§€, main í•¨ìˆ˜ í…ŒìŠ¤íŠ¸ ì½”ë“œë§Œ ë¹¼ê³ ìš”.</p>
<h2 id="ì—°ìŠµ-ë¬¸ì œ-ìš”êµ¬ì‚¬í•­">ì—°ìŠµ ë¬¸ì œ ìš”êµ¬ì‚¬í•­</h2>
<p>ì—°ìŠµ ë¬¸ì œì—ëŠ” ì•„ë˜ì™€ ê°™ì€ ìš”êµ¬ì‚¬í•­ì´ ìˆìŠµë‹ˆë‹¤.</p>
<ul>
<li>ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë¹Œë“œ í•´ì•¼í•œë‹¤.</li>
<li>ë‹¤ì–‘í•œ ì´ìë¥¼ ì£¼ì–´ ì‹¤í–‰í•˜ê³  í‘œì¤€ ì¶œë ¥ê³¼ ì¢…ë£Œ ì½”ë“œë¥¼ í™•ì¸í•´ í…ŒìŠ¤íŠ¸í•´ì•¼ í•œë‹¤.</li>
</ul>
<h2 id="ë‚˜ì˜-ì½”ë“œ">ë‚˜ì˜ ì½”ë“œ</h2>





<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="ln">  1</span><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="ln">  2</span><span class="cl">
</span></span><span class="line"><span class="ln">  3</span><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="ln">  4</span><span class="cl">    <span class="s">&#34;bytes&#34;</span>
</span></span><span class="line"><span class="ln">  5</span><span class="cl">    <span class="s">&#34;errors&#34;</span>
</span></span><span class="line"><span class="ln">  6</span><span class="cl">    <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="ln">  7</span><span class="cl">    <span class="s">&#34;os&#34;</span>
</span></span><span class="line"><span class="ln">  8</span><span class="cl">    <span class="s">&#34;os/exec&#34;</span>
</span></span><span class="line"><span class="ln">  9</span><span class="cl">    <span class="s">&#34;runtime&#34;</span>
</span></span><span class="line"><span class="ln"> 10</span><span class="cl">    <span class="s">&#34;strings&#34;</span>
</span></span><span class="line"><span class="ln"> 11</span><span class="cl">    <span class="s">&#34;testing&#34;</span>
</span></span><span class="line"><span class="ln"> 12</span><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="ln"> 13</span><span class="cl">
</span></span><span class="line"><span class="ln"> 14</span><span class="cl"><span class="kd">var</span> <span class="nx">usage</span> <span class="p">=</span> <span class="s">`Usage: ./application &lt;integer&gt; [-h|--help]
</span></span></span><span class="line"><span class="ln"> 15</span><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="ln"> 16</span><span class="cl"><span class="s">A greeter application wich prints the name you entered &lt;integer&gt; number of times.
</span></span></span><span class="line"><span class="ln"> 17</span><span class="cl"><span class="s">`</span>
</span></span><span class="line"><span class="ln"> 18</span><span class="cl">
</span></span><span class="line"><span class="ln"> 19</span><span class="cl"><span class="kd">func</span> <span class="nf">buildApp</span><span class="p">(</span><span class="nx">appName</span> <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 20</span><span class="cl">    <span class="k">if</span> <span class="nx">runtime</span><span class="p">.</span><span class="nx">GOOS</span> <span class="o">==</span> <span class="s">&#34;windows&#34;</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 21</span><span class="cl">        <span class="nx">appName</span> <span class="o">+=</span> <span class="s">&#34;.exe&#34;</span>
</span></span><span class="line"><span class="ln"> 22</span><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="ln"> 23</span><span class="cl">
</span></span><span class="line"><span class="ln"> 24</span><span class="cl">    <span class="nx">build</span> <span class="o">:=</span> <span class="nx">exec</span><span class="p">.</span><span class="nf">Command</span><span class="p">(</span><span class="s">&#34;go&#34;</span><span class="p">,</span> <span class="s">&#34;build&#34;</span><span class="p">,</span> <span class="s">&#34;-o&#34;</span><span class="p">,</span> <span class="nx">appName</span><span class="p">)</span>
</span></span><span class="line"><span class="ln"> 25</span><span class="cl">    <span class="k">if</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">build</span><span class="p">.</span><span class="nf">Run</span><span class="p">();</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 26</span><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Fprintf</span><span class="p">(</span><span class="nx">os</span><span class="p">.</span><span class="nx">Stderr</span><span class="p">,</span> <span class="s">&#34;Error building %s: %s&#34;</span><span class="p">,</span> <span class="nx">appName</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="ln"> 27</span><span class="cl">        <span class="nx">os</span><span class="p">.</span><span class="nf">Exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="ln"> 28</span><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="ln"> 29</span><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="ln"> 30</span><span class="cl">
</span></span><span class="line"><span class="ln"> 31</span><span class="cl"><span class="kd">func</span> <span class="nf">TestMain</span><span class="p">(</span><span class="nx">m</span> <span class="o">*</span><span class="nx">testing</span><span class="p">.</span><span class="nx">M</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 32</span><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;-&gt; Building...&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="ln"> 33</span><span class="cl">
</span></span><span class="line"><span class="ln"> 34</span><span class="cl">    <span class="nx">appName</span> <span class="o">:=</span> <span class="s">&#34;application&#34;</span>
</span></span><span class="line"><span class="ln"> 35</span><span class="cl">    <span class="nf">buildApp</span><span class="p">(</span><span class="nx">appName</span><span class="p">)</span>
</span></span><span class="line"><span class="ln"> 36</span><span class="cl">
</span></span><span class="line"><span class="ln"> 37</span><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;-&gt; Testing...&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="ln"> 38</span><span class="cl">
</span></span><span class="line"><span class="ln"> 39</span><span class="cl">    <span class="nx">tests</span> <span class="o">:=</span> <span class="p">[]</span><span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 40</span><span class="cl">        <span class="nx">num</span>    <span class="kt">string</span>
</span></span><span class="line"><span class="ln"> 41</span><span class="cl">        <span class="nx">name</span>   <span class="kt">string</span>
</span></span><span class="line"><span class="ln"> 42</span><span class="cl">        <span class="nx">output</span> <span class="kt">string</span>
</span></span><span class="line"><span class="ln"> 43</span><span class="cl">        <span class="nx">err</span>    <span class="kt">error</span>
</span></span><span class="line"><span class="ln"> 44</span><span class="cl">    <span class="p">}{</span>
</span></span><span class="line"><span class="ln"> 45</span><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 46</span><span class="cl">            <span class="nx">output</span><span class="p">:</span> <span class="s">&#34;Invalid number of arguments\n&#34;</span> <span class="o">+</span> <span class="nx">usage</span><span class="p">,</span>
</span></span><span class="line"><span class="ln"> 47</span><span class="cl">            <span class="nx">err</span><span class="p">:</span>    <span class="nx">errors</span><span class="p">.</span><span class="nf">New</span><span class="p">(</span><span class="s">&#34;exit status 1&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="ln"> 48</span><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="ln"> 49</span><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 50</span><span class="cl">            <span class="nx">num</span><span class="p">:</span>    <span class="s">&#34;a&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="ln"> 51</span><span class="cl">            <span class="nx">output</span><span class="p">:</span> <span class="s">&#34;strconv.Atoi: parsing \&#34;a\&#34;: invalid syntax\n&#34;</span> <span class="o">+</span> <span class="nx">usage</span><span class="p">,</span>
</span></span><span class="line"><span class="ln"> 52</span><span class="cl">            <span class="nx">err</span><span class="p">:</span>    <span class="nx">errors</span><span class="p">.</span><span class="nf">New</span><span class="p">(</span><span class="s">&#34;exit status 1&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="ln"> 53</span><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="ln"> 54</span><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 55</span><span class="cl">            <span class="nx">num</span><span class="p">:</span>    <span class="s">&#34;-1&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="ln"> 56</span><span class="cl">            <span class="nx">output</span><span class="p">:</span> <span class="s">&#34;Must specify a number greater than 0\n&#34;</span> <span class="o">+</span> <span class="nx">usage</span><span class="p">,</span>
</span></span><span class="line"><span class="ln"> 57</span><span class="cl">            <span class="nx">err</span><span class="p">:</span>    <span class="nx">errors</span><span class="p">.</span><span class="nf">New</span><span class="p">(</span><span class="s">&#34;exit status 1&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="ln"> 58</span><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="ln"> 59</span><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 60</span><span class="cl">            <span class="nx">num</span><span class="p">:</span> <span class="s">&#34;5&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="ln"> 61</span><span class="cl">            <span class="nx">output</span><span class="p">:</span> <span class="s">`Your name please? Press the Enter key when done.
</span></span></span><span class="line"><span class="ln"> 62</span><span class="cl"><span class="s">You didn&#39;t enter your name
</span></span></span><span class="line"><span class="ln"> 63</span><span class="cl"><span class="s">`</span><span class="p">,</span>
</span></span><span class="line"><span class="ln"> 64</span><span class="cl">            <span class="nx">err</span><span class="p">:</span> <span class="nx">errors</span><span class="p">.</span><span class="nf">New</span><span class="p">(</span><span class="s">&#34;exit status 1&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="ln"> 65</span><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="ln"> 66</span><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 67</span><span class="cl">            <span class="nx">num</span><span class="p">:</span>  <span class="s">&#34;5&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="ln"> 68</span><span class="cl">            <span class="nx">name</span><span class="p">:</span> <span class="s">&#34;Jaehun Heo\n&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="ln"> 69</span><span class="cl">            <span class="nx">output</span><span class="p">:</span> <span class="s">`Your name please? Press the Enter key when done.
</span></span></span><span class="line"><span class="ln"> 70</span><span class="cl"><span class="s">Nice to meet you Jaehun Heo
</span></span></span><span class="line"><span class="ln"> 71</span><span class="cl"><span class="s">Nice to meet you Jaehun Heo
</span></span></span><span class="line"><span class="ln"> 72</span><span class="cl"><span class="s">Nice to meet you Jaehun Heo
</span></span></span><span class="line"><span class="ln"> 73</span><span class="cl"><span class="s">Nice to meet you Jaehun Heo
</span></span></span><span class="line"><span class="ln"> 74</span><span class="cl"><span class="s">Nice to meet you Jaehun Heo
</span></span></span><span class="line"><span class="ln"> 75</span><span class="cl"><span class="s">`</span><span class="p">,</span>
</span></span><span class="line"><span class="ln"> 76</span><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="ln"> 77</span><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="ln"> 78</span><span class="cl">
</span></span><span class="line"><span class="ln"> 79</span><span class="cl">    <span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">tc</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">tests</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 80</span><span class="cl">
</span></span><span class="line"><span class="ln"> 81</span><span class="cl">        <span class="kd">var</span> <span class="nx">cmd</span> <span class="o">*</span><span class="nx">exec</span><span class="p">.</span><span class="nx">Cmd</span>
</span></span><span class="line"><span class="ln"> 82</span><span class="cl">
</span></span><span class="line"><span class="ln"> 83</span><span class="cl">        <span class="k">if</span> <span class="nx">tc</span><span class="p">.</span><span class="nx">num</span> <span class="o">==</span> <span class="s">&#34;&#34;</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 84</span><span class="cl">            <span class="nx">cmd</span> <span class="p">=</span> <span class="nx">exec</span><span class="p">.</span><span class="nf">Command</span><span class="p">(</span><span class="s">&#34;./&#34;</span> <span class="o">+</span> <span class="nx">appName</span><span class="p">)</span>
</span></span><span class="line"><span class="ln"> 85</span><span class="cl">        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 86</span><span class="cl">            <span class="nx">cmd</span> <span class="p">=</span> <span class="nx">exec</span><span class="p">.</span><span class="nf">Command</span><span class="p">(</span><span class="s">&#34;./&#34;</span><span class="o">+</span><span class="nx">appName</span><span class="p">,</span> <span class="nx">tc</span><span class="p">.</span><span class="nx">num</span><span class="p">)</span>
</span></span><span class="line"><span class="ln"> 87</span><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="ln"> 88</span><span class="cl">
</span></span><span class="line"><span class="ln"> 89</span><span class="cl">        <span class="nx">cmd</span><span class="p">.</span><span class="nx">Stdin</span> <span class="p">=</span> <span class="nx">strings</span><span class="p">.</span><span class="nf">NewReader</span><span class="p">(</span><span class="nx">tc</span><span class="p">.</span><span class="nx">name</span><span class="p">)</span>
</span></span><span class="line"><span class="ln"> 90</span><span class="cl">
</span></span><span class="line"><span class="ln"> 91</span><span class="cl">        <span class="kd">var</span> <span class="nx">output</span> <span class="nx">bytes</span><span class="p">.</span><span class="nx">Buffer</span>
</span></span><span class="line"><span class="ln"> 92</span><span class="cl">        <span class="nx">cmd</span><span class="p">.</span><span class="nx">Stdout</span> <span class="p">=</span> <span class="o">&amp;</span><span class="nx">output</span>
</span></span><span class="line"><span class="ln"> 93</span><span class="cl">
</span></span><span class="line"><span class="ln"> 94</span><span class="cl">        <span class="nx">err</span> <span class="o">:=</span> <span class="nx">cmd</span><span class="p">.</span><span class="nf">Run</span><span class="p">()</span>
</span></span><span class="line"><span class="ln"> 95</span><span class="cl">        <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="o">&amp;&amp;</span> <span class="nx">err</span><span class="p">.</span><span class="nf">Error</span><span class="p">()</span> <span class="o">!=</span> <span class="nx">tc</span><span class="p">.</span><span class="nx">err</span><span class="p">.</span><span class="nf">Error</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 96</span><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;Expacted error: %v, Got: %v\n&#34;</span><span class="p">,</span> <span class="nx">tc</span><span class="p">.</span><span class="nx">err</span><span class="p">.</span><span class="nf">Error</span><span class="p">(),</span> <span class="nx">err</span><span class="p">.</span><span class="nf">Error</span><span class="p">())</span>
</span></span><span class="line"><span class="ln"> 97</span><span class="cl">            <span class="nx">os</span><span class="p">.</span><span class="nf">Exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="ln"> 98</span><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="ln"> 99</span><span class="cl">        <span class="k">if</span> <span class="nx">tc</span><span class="p">.</span><span class="nx">output</span> <span class="o">!=</span> <span class="nx">output</span><span class="p">.</span><span class="nf">String</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln">100</span><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;Expacted stdout message to be: \n%v, \nGot: \n%v\n&#34;</span><span class="p">,</span> <span class="nx">tc</span><span class="p">.</span><span class="nx">output</span><span class="p">,</span> <span class="nx">output</span><span class="p">.</span><span class="nf">String</span><span class="p">())</span>
</span></span><span class="line"><span class="ln">101</span><span class="cl">            <span class="nx">os</span><span class="p">.</span><span class="nf">Exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">102</span><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="ln">103</span><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="ln">104</span><span class="cl">
</span></span><span class="line"><span class="ln">105</span><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;-&gt; Getting done...&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">106</span><span class="cl">    <span class="nx">os</span><span class="p">.</span><span class="nf">Remove</span><span class="p">(</span><span class="nx">appName</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">107</span><span class="cl">
</span></span><span class="line"><span class="ln">108</span><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;-&gt; Start unit tests...&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">109</span><span class="cl">    <span class="nx">result</span> <span class="o">:=</span> <span class="nx">m</span><span class="p">.</span><span class="nf">Run</span><span class="p">()</span>
</span></span><span class="line"><span class="ln">110</span><span class="cl">
</span></span><span class="line"><span class="ln">111</span><span class="cl">    <span class="nx">os</span><span class="p">.</span><span class="nf">Exit</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">112</span><span class="cl"><span class="p">}</span></span></span></code></pre></div><h2 id="testmainìœ¼ë¡œ-í…ŒìŠ¤íŠ¸-í™˜ê²½ì„-ê°–ì¶”ê¸°">TestMain()ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ í™˜ê²½ì„ ê°–ì¶”ê¸°</h2>
<p><code>TestMain()</code>ì„ ì´ìš©í•´ í…ŒìŠ¤íŠ¸ ì „ì— í•„ìš”í•œ ì‘ì—…ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ì¼ë°˜ í…ŒìŠ¤íŠ¸ í•¨ìˆ˜ì™€ ë‹¤ë¥´ê²Œ ë§¤ê°œë³€ìˆ˜ íƒ€ì…ì´ <code>*testing.M</code>ì¸ ì ì„ ì£¼ì˜í•´ì•¼ í•©ë‹ˆë‹¤.
<code>TestMain()</code>ì˜ êµ¬ì¡°ëŠ” ëŒ€ëµ ì´ë ‡ìŠµë‹ˆë‹¤.</p>





<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="kd">func</span> <span class="nf">TestMain</span><span class="p">(</span><span class="nx">m</span> <span class="o">*</span><span class="nx">testing</span><span class="p">.</span><span class="nx">M</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 2</span><span class="cl">
</span></span><span class="line"><span class="ln"> 3</span><span class="cl">    <span class="c1">// ì´ê³³ì—ì„œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì „ì— ì²˜ë¦¬í•  ì¼ì„ êµ¬í˜„
</span></span></span><span class="line"><span class="ln"> 4</span><span class="cl"><span class="c1"></span>    <span class="c1">// ...
</span></span></span><span class="line"><span class="ln"> 5</span><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="ln"> 6</span><span class="cl">    <span class="c1">// ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
</span></span></span><span class="line"><span class="ln"> 7</span><span class="cl"><span class="c1"></span>    <span class="nx">result</span> <span class="o">:=</span> <span class="nx">m</span><span class="p">.</span><span class="nf">Run</span><span class="p">()</span>
</span></span><span class="line"><span class="ln"> 8</span><span class="cl">
</span></span><span class="line"><span class="ln"> 9</span><span class="cl">    <span class="c1">// í•„ìš”í•˜ë‹¤ë©´ í›„ì²˜ë¦¬ ê³¼ì •ì„ ì´ê³³ì— êµ¬í˜„
</span></span></span><span class="line"><span class="ln">10</span><span class="cl"><span class="c1"></span>    <span class="c1">// ...
</span></span></span><span class="line"><span class="ln">11</span><span class="cl"><span class="c1"></span>    
</span></span><span class="line"><span class="ln">12</span><span class="cl">    <span class="nx">os</span><span class="p">.</span><span class="nf">Exit</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">13</span><span class="cl"><span class="p">}</span></span></span></code></pre></div><h2 id="ë°”ì´ë„ˆë¦¬-íŒŒì¼-ë¹Œë“œ">ë°”ì´ë„ˆë¦¬ íŒŒì¼ ë¹Œë“œ</h2>
<p>ì±…ì—ì„œ ì§€ì‹œí•œ ì²« ë²ˆì§¸ ìš”êµ¬ì‚¬í•­ì€ ë°”ì´ë„ˆë¦¬ íŒŒì¼ ë¹Œë“œì…ë‹ˆë‹¤.
ê·¸ë˜ì„œ <code>m.Run()</code>ì„ ì‹¤í–‰í•˜ê¸° ì „ì— ë¹Œë“œí•˜ëŠ” ê³¼ì •ì„ ì¶”ê°€í•©ë‹ˆë‹¤.
ë¹Œë“œí•  íŒŒì¼ ì´ë¦„ì„ ì…ë ¥ë°›ëŠ” <code>buildApp()</code>ì´ë¼ëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.
ì—¬ê¸°ì„œ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ëŠ” OSë¥¼ êµ¬ë¶„í•´ í™˜ê²½ì— ë§ê²Œ ë°”ì´ë„ˆë¦¬ íŒŒì¼ì„ ë¹Œë“œí•©ë‹ˆë‹¤.</p>





<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="kd">func</span> <span class="nf">buildApp</span><span class="p">(</span><span class="nx">appName</span> <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 2</span><span class="cl">    <span class="k">if</span> <span class="nx">runtime</span><span class="p">.</span><span class="nx">GOOS</span> <span class="o">==</span> <span class="s">&#34;windows&#34;</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 3</span><span class="cl">        <span class="nx">appName</span> <span class="o">+=</span> <span class="s">&#34;.exe&#34;</span>
</span></span><span class="line"><span class="ln"> 4</span><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="ln"> 5</span><span class="cl">
</span></span><span class="line"><span class="ln"> 6</span><span class="cl">    <span class="nx">build</span> <span class="o">:=</span> <span class="nx">exec</span><span class="p">.</span><span class="nf">Command</span><span class="p">(</span><span class="s">&#34;go&#34;</span><span class="p">,</span> <span class="s">&#34;build&#34;</span><span class="p">,</span> <span class="s">&#34;-o&#34;</span><span class="p">,</span> <span class="nx">appName</span><span class="p">)</span>
</span></span><span class="line"><span class="ln"> 7</span><span class="cl">    <span class="k">if</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">build</span><span class="p">.</span><span class="nf">Run</span><span class="p">();</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 8</span><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Fprintf</span><span class="p">(</span><span class="nx">os</span><span class="p">.</span><span class="nx">Stderr</span><span class="p">,</span> <span class="s">&#34;Error building %s: %s&#34;</span><span class="p">,</span> <span class="nx">appName</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="ln"> 9</span><span class="cl">        <span class="nx">os</span><span class="p">.</span><span class="nf">Exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">10</span><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="ln">11</span><span class="cl"><span class="p">}</span></span></span></code></pre></div><h3 id="os-êµ¬ë¶„í•˜ê¸°">OS êµ¬ë¶„í•˜ê¸°</h3>
<p>Linuxë‚˜ macOSì—ì„œëŠ” í™•ì¥ìê°€ ì—†ì–´ë„ ë°”ì´ë„ˆë¦¬ íŒŒì¼ì´ ì˜ ì‹¤í–‰ë©ë‹ˆë‹¤.
í•˜ì§€ë§Œ Windowsì—ì„œëŠ” <code>.exe</code> í™•ì¥ìê°€ ë¶™ì–´ì•¼ ë°”ì´ë„ˆë¦¬ íŒŒì¼ì„ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
<code>runtime</code> íŒ¨í‚¤ì§€ì˜ <code>GOOS</code> ë³€ìˆ«ê°’ìœ¼ë¡œ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ê³  ìˆëŠ” OSë¥¼ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<h3 id="ë¹Œë“œ-ëª…ë ¹-ì‹¤í–‰í•˜ê¸°">ë¹Œë“œ ëª…ë ¹ ì‹¤í–‰í•˜ê¸°</h3>
<p><code>exec</code> íŒ¨í‚¤ì§€ë¥¼ ì´ìš©í•˜ë©´ ì½”ë“œ ì•ˆì—ì„œ ì™¸ë¶€ ëª…ë ¹ì„ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ì‚¬ìš© ë°©ë²•ì€ ê°„ë‹¨í•©ë‹ˆë‹¤.
<code>exec</code>ì˜ <code>Command()</code>í•¨ìˆ˜ì— ì‹¤í–‰í•  ëª…ë ¹ê³¼ ì¸ìë¥¼ ë„˜ê¹ë‹ˆë‹¤.
ê·¸ëŸ¬ë©´ <code>*Cmd</code>íƒ€ì…ì˜ êµ¬ì¡°ì²´ê°€ ë§Œë“¤ì–´ì§‘ë‹ˆë‹¤.
ì´ <code>*Cmd</code>êµ¬ì¡°ì²´ì— í¬í•¨ëœ <code>Run()</code>í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ ëª…ë ¹ì´ ì‹¤í–‰ë©ë‹ˆë‹¤.</p>
<p>ì°¸ê³ ë¡œ <code>*Cmd</code>íƒ€ì… êµ¬ì¡°ì²´ëŠ” 1íšŒìš©ì…ë‹ˆë‹¤.
<code>Run()</code>ì´ë‚˜ <code>Output()</code>ìœ¼ë¡œ ëª…ë ¹ì„ ì‹¤í–‰í•˜ê³  ë‚˜ë©´ ì´ êµ¬ì¡°ì²´ë¥¼ <a href="https://pkg.go.dev/os/exec#Cmd">ì¬ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</a></p>
<h2 id="í…ŒìŠ¤íŠ¸-ì¼€ì´ìŠ¤">í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤</h2>
<p>ì•±ì„ ì‹¤í–‰í•  ë•Œ ì…ë ¥í•  ì¸ì, ì´ë¦„, ì˜ˆìƒë˜ëŠ” ì¶œë ¥ê°’, ì—ëŸ¬ ë¬¶ìŒì„ ì •ì˜í•©ë‹ˆë‹¤.
ë²„ê·¸ê°€ ìƒˆì–´ ë‚˜ê°€ì§€ ì•Šë„ë¡ ë¹ˆí‹ˆì—†ì´ ì¼€ì´ìŠ¤ë¥¼ ë§Œë“­ë‹ˆë‹¤.
ì €ëŠ” 5ê°€ì§€ ê²½ìš°ê°€ ìˆì„ ìˆ˜ ìˆë‹¤ê³  ìƒê°í•˜ì—¬ ì•„ë˜ì²˜ëŸ¼ ì‘ì„±í•˜ì˜€ìŠµë‹ˆë‹¤.</p>





<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="kd">func</span> <span class="nf">TestMain</span><span class="p">(</span><span class="nx">m</span> <span class="o">*</span><span class="nx">testing</span><span class="p">.</span><span class="nx">M</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 2</span><span class="cl">    
</span></span><span class="line"><span class="ln"> 3</span><span class="cl">    <span class="c1">// ...
</span></span></span><span class="line"><span class="ln"> 4</span><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="ln"> 5</span><span class="cl">    <span class="nx">tests</span> <span class="o">:=</span> <span class="p">[]</span><span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 6</span><span class="cl">        <span class="nx">num</span>    <span class="kt">string</span>
</span></span><span class="line"><span class="ln"> 7</span><span class="cl">        <span class="nx">name</span>   <span class="kt">string</span>
</span></span><span class="line"><span class="ln"> 8</span><span class="cl">        <span class="nx">output</span> <span class="kt">string</span>
</span></span><span class="line"><span class="ln"> 9</span><span class="cl">        <span class="nx">err</span>    <span class="kt">error</span>
</span></span><span class="line"><span class="ln">10</span><span class="cl">    <span class="p">}{</span>
</span></span><span class="line"><span class="ln">11</span><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="ln">12</span><span class="cl">            <span class="nx">output</span><span class="p">:</span> <span class="s">&#34;Invalid number of arguments\n&#34;</span> <span class="o">+</span> <span class="nx">usage</span><span class="p">,</span>
</span></span><span class="line"><span class="ln">13</span><span class="cl">            <span class="nx">err</span><span class="p">:</span>    <span class="nx">errors</span><span class="p">.</span><span class="nf">New</span><span class="p">(</span><span class="s">&#34;exit status 1&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="ln">14</span><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="ln">15</span><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="ln">16</span><span class="cl">            <span class="nx">num</span><span class="p">:</span>    <span class="s">&#34;a&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="ln">17</span><span class="cl">            <span class="nx">output</span><span class="p">:</span> <span class="s">&#34;strconv.Atoi: parsing \&#34;a\&#34;: invalid syntax\n&#34;</span> <span class="o">+</span> <span class="nx">usage</span><span class="p">,</span>
</span></span><span class="line"><span class="ln">18</span><span class="cl">            <span class="nx">err</span><span class="p">:</span>    <span class="nx">errors</span><span class="p">.</span><span class="nf">New</span><span class="p">(</span><span class="s">&#34;exit status 1&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="ln">19</span><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="ln">20</span><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="ln">21</span><span class="cl">            <span class="nx">num</span><span class="p">:</span>    <span class="s">&#34;-1&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="ln">22</span><span class="cl">            <span class="nx">output</span><span class="p">:</span> <span class="s">&#34;Must specify a number greater than 0\n&#34;</span> <span class="o">+</span> <span class="nx">usage</span><span class="p">,</span>
</span></span><span class="line"><span class="ln">23</span><span class="cl">            <span class="nx">err</span><span class="p">:</span>    <span class="nx">errors</span><span class="p">.</span><span class="nf">New</span><span class="p">(</span><span class="s">&#34;exit status 1&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="ln">24</span><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="ln">25</span><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="ln">26</span><span class="cl">            <span class="nx">num</span><span class="p">:</span> <span class="s">&#34;5&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="ln">27</span><span class="cl">            <span class="nx">output</span><span class="p">:</span> <span class="s">`Your name please? Press the Enter key when done.
</span></span></span><span class="line"><span class="ln">28</span><span class="cl"><span class="s">You didn&#39;t enter your name
</span></span></span><span class="line"><span class="ln">29</span><span class="cl"><span class="s">`</span><span class="p">,</span>
</span></span><span class="line"><span class="ln">30</span><span class="cl">            <span class="nx">err</span><span class="p">:</span> <span class="nx">errors</span><span class="p">.</span><span class="nf">New</span><span class="p">(</span><span class="s">&#34;exit status 1&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="ln">31</span><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="ln">32</span><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="ln">33</span><span class="cl">            <span class="nx">num</span><span class="p">:</span>  <span class="s">&#34;5&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="ln">34</span><span class="cl">            <span class="nx">name</span><span class="p">:</span> <span class="s">&#34;Jaehun Heo\n&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="ln">35</span><span class="cl">            <span class="nx">output</span><span class="p">:</span> <span class="s">`Your name please? Press the Enter key when done.
</span></span></span><span class="line"><span class="ln">36</span><span class="cl"><span class="s">Nice to meet you Jaehun Heo
</span></span></span><span class="line"><span class="ln">37</span><span class="cl"><span class="s">Nice to meet you Jaehun Heo
</span></span></span><span class="line"><span class="ln">38</span><span class="cl"><span class="s">Nice to meet you Jaehun Heo
</span></span></span><span class="line"><span class="ln">39</span><span class="cl"><span class="s">Nice to meet you Jaehun Heo
</span></span></span><span class="line"><span class="ln">40</span><span class="cl"><span class="s">Nice to meet you Jaehun Heo
</span></span></span><span class="line"><span class="ln">41</span><span class="cl"><span class="s">`</span><span class="p">,</span>
</span></span><span class="line"><span class="ln">42</span><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="ln">43</span><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="ln">44</span><span class="cl">    
</span></span><span class="line"><span class="ln">45</span><span class="cl">    <span class="c1">// ...
</span></span></span><span class="line"><span class="ln">46</span><span class="cl"><span class="c1"></span><span class="p">}</span></span></span></code></pre></div><h2 id="í…ŒìŠ¤íŠ¸-ì‹¤í–‰">í…ŒìŠ¤íŠ¸ ì‹¤í–‰</h2>
<p>ë°”ì´ë„ˆë¦¬ íŒŒì¼ì„ ë¹Œë“œí•  ë•Œì™€ ê°™ì´ <code>exec.Comman()</code>ë¡œ ì•±ì„ ì‹¤í–‰í•  ì¤€ë¹„ë¥¼ í•©ë‹ˆë‹¤.
ì¸ìê°€ ìˆëŠ” ê²½ìš°ì™€ ì—†ëŠ” ê²½ìš°ê°€ ìˆì–´ êµ¬ë¶„ ì§€ì—ˆìŠµë‹ˆë‹¤.</p>
<p>ì¤€ë¹„í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ëŒ€ë¡œ ì…ë ¥í•˜ë©´ ê¸°ëŒ€í•œ ì¶œë ¥ê°’ì´ ë‚˜ì˜¤ëŠ”ì§€ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤.
ê·¸ëŸ¬ë ¤ë©´ ì‹¤í–‰í•  ëª…ë ¹ì˜ í‘œì¤€ ì…ë ¥ê³¼ í‘œì¤€ ì¶œë ¥ì„ ê°€ë¡œì±„ì•¼ í•©ë‹ˆë‹¤.
ì €ëŠ” ì´ ê³¼ì •ì—ì„œ í•´ê²°í•  ë°©ë²•ì„ ëª°ë¼ í•œì°¸ì„ í—¤ë§¸ì—ˆìŠµë‹ˆë‹¤.</p>
<p>ê°„ë‹¨í•˜ê²Œë„ <code>*Cmd</code> êµ¬ì¡°ì²´ì— ì¤€ë¹„ëœ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì´ìš©í•˜ë©´ ë©ë‹ˆë‹¤.
<code>Stdin</code> ì¸í„°í˜ì´ìŠ¤ì— ì¤€ë¹„í•œ ì…ë ¥ì„ ë„£ìŠµë‹ˆë‹¤.
ê·¸ë¦¬ê³  <code>Stdout</code> ì¸í„°í˜ì´ìŠ¤ì— ë²„í¼ë¥¼ ì—°ê²°í•©ë‹ˆë‹¤.</p>
<p>ì´ì œ ì‹¤í–‰í•´ì•¼ì£ .
<code>cmd.Run()</code>ìœ¼ë¡œ ëª…ë ¹ì„ ì‹¤í–‰í•œ ë’¤ ì¶œë ¥ ë²„í¼ì™€ ì—ëŸ¬ê°€ ì˜ˆìƒê³¼ ê°™ì€ì§€ í™•ì¸í•©ë‹ˆë‹¤.
ë§Œì•½ í…ŒìŠ¤íŠ¸ì— ì‹¤íŒ¨í•œë‹¤ë©´ ì—ëŸ¬ ë¬¸êµ¬ë¥¼ ì¶œë ¥í•˜ê³  <code>os.Exit(1)</code>ë¡œ í…ŒìŠ¤íŠ¸ë¥¼ ëëƒ…ë‹ˆë‹¤.</p>





<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="ln"> 1</span><span class="cl">    <span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">tc</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">tests</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 2</span><span class="cl">
</span></span><span class="line"><span class="ln"> 3</span><span class="cl">        <span class="kd">var</span> <span class="nx">cmd</span> <span class="o">*</span><span class="nx">exec</span><span class="p">.</span><span class="nx">Cmd</span>
</span></span><span class="line"><span class="ln"> 4</span><span class="cl">
</span></span><span class="line"><span class="ln"> 5</span><span class="cl">        <span class="k">if</span> <span class="nx">tc</span><span class="p">.</span><span class="nx">num</span> <span class="o">==</span> <span class="s">&#34;&#34;</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 6</span><span class="cl">            <span class="nx">cmd</span> <span class="p">=</span> <span class="nx">exec</span><span class="p">.</span><span class="nf">Command</span><span class="p">(</span><span class="s">&#34;./&#34;</span> <span class="o">+</span> <span class="nx">appName</span><span class="p">)</span>
</span></span><span class="line"><span class="ln"> 7</span><span class="cl">        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 8</span><span class="cl">            <span class="nx">cmd</span> <span class="p">=</span> <span class="nx">exec</span><span class="p">.</span><span class="nf">Command</span><span class="p">(</span><span class="s">&#34;./&#34;</span><span class="o">+</span><span class="nx">appName</span><span class="p">,</span> <span class="nx">tc</span><span class="p">.</span><span class="nx">num</span><span class="p">)</span>
</span></span><span class="line"><span class="ln"> 9</span><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="ln">10</span><span class="cl">
</span></span><span class="line"><span class="ln">11</span><span class="cl">        <span class="nx">cmd</span><span class="p">.</span><span class="nx">Stdin</span> <span class="p">=</span> <span class="nx">strings</span><span class="p">.</span><span class="nf">NewReader</span><span class="p">(</span><span class="nx">tc</span><span class="p">.</span><span class="nx">name</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">12</span><span class="cl">
</span></span><span class="line"><span class="ln">13</span><span class="cl">        <span class="kd">var</span> <span class="nx">output</span> <span class="nx">bytes</span><span class="p">.</span><span class="nx">Buffer</span>
</span></span><span class="line"><span class="ln">14</span><span class="cl">        <span class="nx">cmd</span><span class="p">.</span><span class="nx">Stdout</span> <span class="p">=</span> <span class="o">&amp;</span><span class="nx">output</span>
</span></span><span class="line"><span class="ln">15</span><span class="cl">
</span></span><span class="line"><span class="ln">16</span><span class="cl">        <span class="nx">err</span> <span class="o">:=</span> <span class="nx">cmd</span><span class="p">.</span><span class="nf">Run</span><span class="p">()</span>
</span></span><span class="line"><span class="ln">17</span><span class="cl">        <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="o">&amp;&amp;</span> <span class="nx">err</span><span class="p">.</span><span class="nf">Error</span><span class="p">()</span> <span class="o">!=</span> <span class="nx">tc</span><span class="p">.</span><span class="nx">err</span><span class="p">.</span><span class="nf">Error</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln">18</span><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;Expacted error: %v, Got: %v\n&#34;</span><span class="p">,</span> <span class="nx">tc</span><span class="p">.</span><span class="nx">err</span><span class="p">.</span><span class="nf">Error</span><span class="p">(),</span> <span class="nx">err</span><span class="p">.</span><span class="nf">Error</span><span class="p">())</span>
</span></span><span class="line"><span class="ln">19</span><span class="cl">            <span class="nx">os</span><span class="p">.</span><span class="nf">Exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">20</span><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="ln">21</span><span class="cl">        <span class="k">if</span> <span class="nx">tc</span><span class="p">.</span><span class="nx">output</span> <span class="o">!=</span> <span class="nx">output</span><span class="p">.</span><span class="nf">String</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln">22</span><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;Expacted stdout message to be: \n%v, \nGot: \n%v\n&#34;</span><span class="p">,</span> <span class="nx">tc</span><span class="p">.</span><span class="nx">output</span><span class="p">,</span> <span class="nx">output</span><span class="p">.</span><span class="nf">String</span><span class="p">())</span>
</span></span><span class="line"><span class="ln">23</span><span class="cl">            <span class="nx">os</span><span class="p">.</span><span class="nf">Exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">24</span><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="ln">25</span><span class="cl">    <span class="p">}</span></span></span></code></pre></div><h2 id="í…ŒìŠ¤íŠ¸-ë’·-ë§ˆë¬´ë¦¬">í…ŒìŠ¤íŠ¸ ë’· ë§ˆë¬´ë¦¬</h2>
<p>ì—¬ê¸°ì„œëŠ” í…ŒìŠ¤íŠ¸í•œ ë°”ì´ë„ˆë¦¬ íŒŒì¼ì„ ì§€ìš°ëŠ” ì¼ì„ í•©ë‹ˆë‹¤.
êµ³ì´ ì§€ìš°ì§€ ì•Šì•„ë„ ë©ë‹ˆë‹¤.
í•˜ì§€ë§Œ ì €ëŠ” í…ŒìŠ¤íŠ¸ëŠ” í…ŒìŠ¤íŠ¸ì¼ ë¿ì´ë¼ëŠ” ìƒê°ìœ¼ë¡œ ì§€ìš°ê¸°ë¡œ í–ˆìŠµë‹ˆë‹¤.</p>
<p>í•œí¸ìœ¼ë¡œëŠ” ë°”ì´ë„ˆë¦¬ íŒŒì¼ì„ ê·¸ëŒ€ë¡œ ë‘ëŠ” ê²ƒì´ ë” ë‚«ì§€ ì•Šì„ê¹Œë„ ìƒê°í•©ë‹ˆë‹¤.
í…ŒìŠ¤íŠ¸ë¥¼ ê±°ì¹œ ê²°ê³¼ë¬¼ì„ì„ ë³´ì¥í•˜ëŠ” ê²ƒì´ë‹ˆê¹Œìš”.
í…ŒìŠ¤íŠ¸ì— ì‹¤íŒ¨í–ˆì„ ê²½ìš°ì—ë§Œ ì§€ìš°ëŠ” ê²ƒë„ ë°©ë²•ì´ê² ë„¤ìš”.</p>
<p>ê·¸ë‹¤ìŒì€ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ í•  ì°¨ë¡€ì…ë‹ˆë‹¤.
<code>m.Run()</code>ìœ¼ë¡œ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
<code>m</code>ì´ë¼ëŠ” ë³€ìˆ˜ê°€ ê°‘ìê¸° ì–´ë””ì„œ íŠ€ì–´ë‚˜ì™”ë‚˜ ì‹¶ì§€ìš”.
ì´ ê¸€ ì´ˆë°˜ì— ì„¤ëª…í•œ <code>TestMain()</code>í•¨ìˆ˜ì˜ ë§¤ê°œë³€ìˆ˜ì…ë‹ˆë‹¤.</p>
<p><code>m.Run()</code>ì€ ëª¨ë“  ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í•˜ë©´ 0ì„, ì‹¤íŒ¨í•˜ë©´ 1ì„ ë°˜í™˜í•©ë‹ˆë‹¤.
ì‹¤í–‰ ê²°ê´ê°’ì„ <code>os.Exit()</code>ì— ë„˜ê²¨ì£¼ê³  ëª¨ë“  í…ŒìŠ¤íŠ¸ë¥¼ ëë§ˆì¹©ë‹ˆë‹¤.</p>





<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="ln">1</span><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;-&gt; Getting done...&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">2</span><span class="cl">    <span class="nx">os</span><span class="p">.</span><span class="nf">Remove</span><span class="p">(</span><span class="nx">appName</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">3</span><span class="cl">
</span></span><span class="line"><span class="ln">4</span><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;-&gt; Start unit tests...&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">5</span><span class="cl">    <span class="nx">result</span> <span class="o">:=</span> <span class="nx">m</span><span class="p">.</span><span class="nf">Run</span><span class="p">()</span>
</span></span><span class="line"><span class="ln">6</span><span class="cl">
</span></span><span class="line"><span class="ln">7</span><span class="cl">    <span class="nx">os</span><span class="p">.</span><span class="nf">Exit</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span></span></span></code></pre></div><h2 id="ì‹¤í–‰-ê²°ê³¼">ì‹¤í–‰ ê²°ê³¼</h2>
<p>ì‘ì„±í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ <code>go test -v</code>ëª…ë ¹ìœ¼ë¡œ ì‹¤í–‰í•´ ë´…ë‹ˆë‹¤.
ê²°ê³¼ëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.</p>





<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="ln"> 1</span><span class="cl">$ go <span class="nb">test</span> -v
</span></span><span class="line"><span class="ln"> 2</span><span class="cl">-&gt; Building...
</span></span><span class="line"><span class="ln"> 3</span><span class="cl">-&gt; Testing...
</span></span><span class="line"><span class="ln"> 4</span><span class="cl">-&gt; Getting <span class="k">done</span>...
</span></span><span class="line"><span class="ln"> 5</span><span class="cl">-&gt; Start unit tests...
</span></span><span class="line"><span class="ln"> 6</span><span class="cl"><span class="o">===</span> RUN   TestParseArgs
</span></span><span class="line"><span class="ln"> 7</span><span class="cl">--- PASS: TestParseArgs <span class="o">(</span>0.00s<span class="o">)</span>
</span></span><span class="line"><span class="ln"> 8</span><span class="cl"><span class="o">===</span> RUN   TestRunCmd
</span></span><span class="line"><span class="ln"> 9</span><span class="cl">--- PASS: TestRunCmd <span class="o">(</span>0.00s<span class="o">)</span>
</span></span><span class="line"><span class="ln">10</span><span class="cl"><span class="o">===</span> RUN   TestValidateArgs
</span></span><span class="line"><span class="ln">11</span><span class="cl">--- PASS: TestValidateArgs <span class="o">(</span>0.00s<span class="o">)</span>
</span></span><span class="line"><span class="ln">12</span><span class="cl">PASS
</span></span><span class="line"><span class="ln">13</span><span class="cl">ok      practical-go/chap01/manual-parse        1.853s</span></span></code></pre></div><p>ë°”ì´ë„ˆë¦¬ íŒŒì¼ì„ ë¹Œë“œí•˜ê³  ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ í…ŒìŠ¤íŠ¸ë„ í†µê³¼í–ˆìŠµë‹ˆë‹¤.
ì—°ìŠµ ë¬¸ì œë¥¼ í’€ê¸° ì „ì— ì‘ì„±í•´ ë‘” ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë“¤ë„ ì˜ ì‹¤í–‰ë˜ì—ˆê³ ìš”.
ëª¨ë“  ìš”êµ¬ì‚¬í•­ì„ ë§Œì¡±í•œ ê²ƒ ê°™ìŠµë‹ˆë‹¤.</p>
<p>ì—¬ê¸°ê¹Œì§€ ì™”ì„ ë•Œ ê¸°ë¶„ì´ ê½¤ ë¿Œë“¯í–ˆì—ˆì§€ìš”.
ê·¸ëŸ°ë° ë‹µì•ˆ ì½”ë“œë¥¼ ì‚´í´ë³´ê³  ë‚˜ë‹ˆ ì—­ì‹œë‚˜ ì œ ê²ƒì€ ì•„ì£¼ í—ˆìˆ í•˜êµ¬ë‚˜ ì‹¶ì—ˆìŠµë‹ˆë‹¤.
ì´ë‹¤ìŒë¶€í„°ëŠ” ë‹µì•ˆ ì½”ë“œë¥¼ ë¶„ì„í•´ ë³´ê² ìŠµë‹ˆë‹¤.</p>
<h2 id="ë‹µì•ˆ-ì½”ë“œ">ë‹µì•ˆ ì½”ë“œ</h2>
<p>ì œê°€ ì‘ì„±í•œ ê²ƒê³¼ ë‹µì•ˆ ì½”ë“œì˜ ì°¨ì´ëŠ” ë‘ ê°€ì§€ë¼ê³  ìƒê°í•©ë‹ˆë‹¤.</p>
<ul>
<li>ì•± ì‹¤í–‰ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ì „ìš© í…ŒìŠ¤íŠ¸ í•¨ìˆ˜(<code>TestXXXX(t *testing.T)</code>)ë¥¼ ë§Œë“¦</li>
<li>í…ŒìŠ¤íŠ¸ì— íƒ€ì„ì•„ì›ƒ ì»¨í…ìŠ¤íŠ¸ë¥¼ ì¶”ê°€í•¨</li>
</ul>
<h3 id="ì•±-ì‹¤í–‰-í…ŒìŠ¤íŠ¸ë„-ë‹¨ìœ„-í…ŒìŠ¤íŠ¸-ì¤‘-í•˜ë‚˜">ì•± ì‹¤í–‰ í…ŒìŠ¤íŠ¸ë„ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì¤‘ í•˜ë‚˜</h3>
<p>ì €ëŠ” <code>TestMain()</code> í•¨ìˆ˜ ì•ˆì— ì•± ì‹¤í–‰ í…ŒìŠ¤íŠ¸ë¥¼ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.
ê·¸ë¦¬ê³  ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ë”°ë¡œ ì‹¤í–‰í•˜ë„ë¡ í–ˆì§€ìš”.
ê·¸ë˜ì„œ Go ì–¸ì–´ì˜ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ëª¨ìŒì— ì•± ì‹¤í–‰ í…ŒìŠ¤íŠ¸ëŠ” í¬í•¨ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.</p>
<p>í•œí¸, ë‹µì•ˆì—ëŠ” ì•± ì‹¤í–‰ í…ŒìŠ¤íŠ¸ë„ í•˜ë‚˜ì˜ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¡œ êµ¬í˜„ë˜ì–´ ìˆì—ˆìŠµë‹ˆë‹¤.</p>
<p>í˜¹ì‹œë‚˜ ê·¸ë ‡ê²Œ í•˜ë©´ mainí•¨ìˆ˜ë„ coverageì— í¬í•¨ë˜ë‚˜ ê¶ê¸ˆí–ˆìŠµë‹ˆë‹¤.
ê·¸ë˜ì„œ ì‹¤í–‰í•´ë³¸ ê²°ê³¼ëŠ” &lsquo;í¬í•¨ë˜ì§€ ì•ŠëŠ”ë‹¤&rsquo;ì…ë‹ˆë‹¤.</p>





<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="ln">1</span><span class="cl">$ go <span class="nb">test</span> -cover
</span></span><span class="line"><span class="ln">2</span><span class="cl">PASS
</span></span><span class="line"><span class="ln">3</span><span class="cl">coverage: 71.2% of statements
</span></span><span class="line"><span class="ln">4</span><span class="cl">ok      practical-go/chap01/manual-parse        0.262s</span></span></code></pre></div><p>ê·¸ëŸ¼ì—ë„ í…ŒìŠ¤íŠ¸ì™€ ì¤€ë¹„ ê³¼ì •ì„ ëª…í™•íˆ ë‚˜ëˆŒ ìˆ˜ ìˆëŠ” ê²ƒì€ ì¥ì ì…ë‹ˆë‹¤.
í›¨ì”¬ ê¹”ë”í•´ ë³´ì…ë‹ˆë‹¤.
í…ŒìŠ¤íŠ¸ ë„êµ¬ê°€ ì¶œë ¥í•˜ëŠ” PASS/FAIL ê²°ê³¼ë„ ì•Œì•„ì„œ ë½‘ì•„ì£¼ëŠ” ê²ƒë„ ì¢‹ê³ ìš”.</p>
<h3 id="íƒ€ì„ì•„ì›ƒ-ì»¨í…ìŠ¤íŠ¸ë¥¼-ë”í•´ì„œ-ìš°ì•„í•˜ê²Œ-ë§Œë“¤ê¸°">íƒ€ì„ì•„ì›ƒ ì»¨í…ìŠ¤íŠ¸ë¥¼ ë”í•´ì„œ ìš°ì•„í•˜ê²Œ ë§Œë“¤ê¸°</h3>
<p>ë‹µì•ˆ ì½”ë“œëŠ” ë¹Œë“œ ê³¼ì •ê³¼ ì•± ì‹¤í–‰ í…ŒìŠ¤íŠ¸ì— íƒ€ì„ì•„ì›ƒ ì»¨í…ìŠ¤íŠ¸ë¥¼ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.
íƒ€ì„ì•„ì›ƒ ì»¨í…ìŠ¤íŠ¸ëŠ” êµì°© ìƒíƒœì— ë¹ ì§€ê±°ë‚˜ ì‹¤í–‰ì´ ì§€ì—°ë  ë•Œë¥¼ ìœ„í•œ ì¥ì¹˜ì…ë‹ˆë‹¤.
ì•„ë¬´ë¦¬ ëŠ¦ì–´ë„ n ì‹œê°„ ì•ˆì—ëŠ” í…ŒìŠ¤íŠ¸ ê²°ê³¼ê°€ ë‚˜ì˜¤ë„ë¡ í•˜ëŠ” ìš°ì•„í•œ ë°©ì‹ì…ë‹ˆë‹¤.</p>
<p>ì‚¬ì‹¤ ì»¨í…ìŠ¤íŠ¸ ê¸°ëŠ¥ì€ ì±…ì—ì„œ ì´ ì—°ìŠµ ë¬¸ì œ ì´í›„ì— ì„¤ëª…ëœ ë‚´ìš©ì´ë¼ ì‚¬ìš©í•´ ë³¼ ìƒê°ì„ ëª»í–ˆìŠµë‹ˆë‹¤.
ì €ìê°€ ë°˜ì¹™ì„ ì¼ë„¤ìš”!
ê·¸ë˜ë„ ìœ ìš©í•´ ë³´ì´ëŠ” ê¸°ëŠ¥ì„ ë‹µì•ˆì— ì‚¬ìš©í•´ ì£¼ì–´ì„œ ë•ë¶„ì— ë¤ìœ¼ë¡œ ë°°ìš´ ëŠë‚Œì…ë‹ˆë‹¤.</p>





<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="ln">  1</span><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="ln">  2</span><span class="cl">
</span></span><span class="line"><span class="ln">  3</span><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="ln">  4</span><span class="cl">    <span class="s">&#34;bytes&#34;</span>
</span></span><span class="line"><span class="ln">  5</span><span class="cl">    <span class="s">&#34;context&#34;</span>
</span></span><span class="line"><span class="ln">  6</span><span class="cl">    <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="ln">  7</span><span class="cl">    <span class="s">&#34;log&#34;</span>
</span></span><span class="line"><span class="ln">  8</span><span class="cl">    <span class="s">&#34;os&#34;</span>
</span></span><span class="line"><span class="ln">  9</span><span class="cl">    <span class="s">&#34;os/exec&#34;</span>
</span></span><span class="line"><span class="ln"> 10</span><span class="cl">    <span class="s">&#34;path&#34;</span>
</span></span><span class="line"><span class="ln"> 11</span><span class="cl">    <span class="s">&#34;runtime&#34;</span>
</span></span><span class="line"><span class="ln"> 12</span><span class="cl">    <span class="s">&#34;strings&#34;</span>
</span></span><span class="line"><span class="ln"> 13</span><span class="cl">    <span class="s">&#34;testing&#34;</span>
</span></span><span class="line"><span class="ln"> 14</span><span class="cl">    <span class="s">&#34;time&#34;</span>
</span></span><span class="line"><span class="ln"> 15</span><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="ln"> 16</span><span class="cl">
</span></span><span class="line"><span class="ln"> 17</span><span class="cl"><span class="kd">var</span> <span class="nx">binaryName</span> <span class="kt">string</span>
</span></span><span class="line"><span class="ln"> 18</span><span class="cl">
</span></span><span class="line"><span class="ln"> 19</span><span class="cl"><span class="kd">func</span> <span class="nf">TestMain</span><span class="p">(</span><span class="nx">m</span> <span class="o">*</span><span class="nx">testing</span><span class="p">.</span><span class="nx">M</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 20</span><span class="cl">    <span class="k">if</span> <span class="nx">runtime</span><span class="p">.</span><span class="nx">GOOS</span> <span class="o">==</span> <span class="s">&#34;windows&#34;</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 21</span><span class="cl">        <span class="nx">binaryName</span> <span class="p">=</span> <span class="s">&#34;manual-parse-app.exe&#34;</span>
</span></span><span class="line"><span class="ln"> 22</span><span class="cl">    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 23</span><span class="cl">        <span class="nx">binaryName</span> <span class="p">=</span> <span class="s">&#34;manual-parse-app&#34;</span>
</span></span><span class="line"><span class="ln"> 24</span><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="ln"> 25</span><span class="cl">
</span></span><span class="line"><span class="ln"> 26</span><span class="cl">    <span class="nx">ctx</span><span class="p">,</span> <span class="nx">cancel</span> <span class="o">:=</span> <span class="nx">context</span><span class="p">.</span><span class="nf">WithTimeout</span><span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nf">Background</span><span class="p">(),</span> <span class="mi">500</span><span class="o">*</span><span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
</span></span><span class="line"><span class="ln"> 27</span><span class="cl">    <span class="k">defer</span> <span class="nf">cancel</span><span class="p">()</span>
</span></span><span class="line"><span class="ln"> 28</span><span class="cl">    <span class="nx">cmd</span> <span class="o">:=</span> <span class="nx">exec</span><span class="p">.</span><span class="nf">CommandContext</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span> <span class="s">&#34;go&#34;</span><span class="p">,</span> <span class="s">&#34;build&#34;</span><span class="p">,</span> <span class="s">&#34;-o&#34;</span><span class="p">,</span> <span class="nx">binaryName</span><span class="p">)</span>
</span></span><span class="line"><span class="ln"> 29</span><span class="cl">    <span class="nx">err</span> <span class="o">:=</span> <span class="nx">cmd</span><span class="p">.</span><span class="nf">Run</span><span class="p">()</span>
</span></span><span class="line"><span class="ln"> 30</span><span class="cl">    <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 31</span><span class="cl">        <span class="nx">os</span><span class="p">.</span><span class="nf">Exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="ln"> 32</span><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="ln"> 33</span><span class="cl">    <span class="k">defer</span> <span class="kd">func</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 34</span><span class="cl">        <span class="nx">err</span> <span class="p">=</span> <span class="nx">os</span><span class="p">.</span><span class="nf">Remove</span><span class="p">(</span><span class="nx">binaryName</span><span class="p">)</span>
</span></span><span class="line"><span class="ln"> 35</span><span class="cl">        <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 36</span><span class="cl">            <span class="nx">log</span><span class="p">.</span><span class="nf">Fatalf</span><span class="p">(</span><span class="s">&#34;Error removing built binary: %v&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="ln"> 37</span><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="ln"> 38</span><span class="cl">    <span class="p">}()</span>
</span></span><span class="line"><span class="ln"> 39</span><span class="cl">    <span class="nx">m</span><span class="p">.</span><span class="nf">Run</span><span class="p">()</span>
</span></span><span class="line"><span class="ln"> 40</span><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="ln"> 41</span><span class="cl">
</span></span><span class="line"><span class="ln"> 42</span><span class="cl"><span class="kd">func</span> <span class="nf">TestApplication</span><span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">testing</span><span class="p">.</span><span class="nx">T</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 43</span><span class="cl">    <span class="nx">ctx</span><span class="p">,</span> <span class="nx">cancel</span> <span class="o">:=</span> <span class="nx">context</span><span class="p">.</span><span class="nf">WithTimeout</span><span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nf">Background</span><span class="p">(),</span> <span class="mi">500</span><span class="o">*</span><span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
</span></span><span class="line"><span class="ln"> 44</span><span class="cl">    <span class="k">defer</span> <span class="nf">cancel</span><span class="p">()</span>
</span></span><span class="line"><span class="ln"> 45</span><span class="cl">    <span class="nx">curDir</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">os</span><span class="p">.</span><span class="nf">Getwd</span><span class="p">()</span>
</span></span><span class="line"><span class="ln"> 46</span><span class="cl">    <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 47</span><span class="cl">        <span class="nx">t</span><span class="p">.</span><span class="nf">Fatal</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="ln"> 48</span><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="ln"> 49</span><span class="cl">    <span class="nx">binaryPath</span> <span class="o">:=</span> <span class="nx">path</span><span class="p">.</span><span class="nf">Join</span><span class="p">(</span><span class="nx">curDir</span><span class="p">,</span> <span class="nx">binaryName</span><span class="p">)</span>
</span></span><span class="line"><span class="ln"> 50</span><span class="cl">    <span class="nx">t</span><span class="p">.</span><span class="nf">Log</span><span class="p">(</span><span class="nx">binaryPath</span><span class="p">)</span>
</span></span><span class="line"><span class="ln"> 51</span><span class="cl">
</span></span><span class="line"><span class="ln"> 52</span><span class="cl">    <span class="nx">tests</span> <span class="o">:=</span> <span class="p">[]</span><span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 53</span><span class="cl">        <span class="nx">args</span>                <span class="p">[]</span><span class="kt">string</span>
</span></span><span class="line"><span class="ln"> 54</span><span class="cl">        <span class="nx">input</span>               <span class="kt">string</span>
</span></span><span class="line"><span class="ln"> 55</span><span class="cl">        <span class="nx">expectedOutputLines</span> <span class="p">[]</span><span class="kt">string</span>
</span></span><span class="line"><span class="ln"> 56</span><span class="cl">        <span class="nx">expectedExitCode</span>    <span class="kt">int</span>
</span></span><span class="line"><span class="ln"> 57</span><span class="cl">    <span class="p">}{</span>
</span></span><span class="line"><span class="ln"> 58</span><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 59</span><span class="cl">            <span class="nx">args</span><span class="p">:</span>             <span class="p">[]</span><span class="kt">string</span><span class="p">{},</span>
</span></span><span class="line"><span class="ln"> 60</span><span class="cl">            <span class="nx">expectedExitCode</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
</span></span><span class="line"><span class="ln"> 61</span><span class="cl">            <span class="nx">expectedOutputLines</span><span class="p">:</span> <span class="p">[]</span><span class="kt">string</span><span class="p">{</span>
</span></span><span class="line"><span class="ln"> 62</span><span class="cl">                <span class="s">&#34;Invalid number of arguments&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="ln"> 63</span><span class="cl">                <span class="nx">fmt</span><span class="p">.</span><span class="nf">Sprintf</span><span class="p">(</span><span class="s">&#34;Usage: %s &lt;integer&gt; [-h|-help]&#34;</span><span class="p">,</span> <span class="nx">binaryPath</span><span class="p">),</span>
</span></span><span class="line"><span class="ln"> 64</span><span class="cl">                <span class="s">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="ln"> 65</span><span class="cl">                <span class="s">&#34;A greeter application which prints the name you entered &lt;integer&gt; number of times.&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="ln"> 66</span><span class="cl">                <span class="s">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="ln"> 67</span><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="ln"> 68</span><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="ln"> 69</span><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 70</span><span class="cl">            <span class="nx">args</span><span class="p">:</span>             <span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">&#34;-h&#34;</span><span class="p">},</span>
</span></span><span class="line"><span class="ln"> 71</span><span class="cl">            <span class="nx">expectedExitCode</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
</span></span><span class="line"><span class="ln"> 72</span><span class="cl">            <span class="nx">expectedOutputLines</span><span class="p">:</span> <span class="p">[]</span><span class="kt">string</span><span class="p">{</span>
</span></span><span class="line"><span class="ln"> 73</span><span class="cl">                <span class="s">&#34;Must specify a number greater than 0&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="ln"> 74</span><span class="cl">                <span class="nx">fmt</span><span class="p">.</span><span class="nf">Sprintf</span><span class="p">(</span><span class="s">&#34;Usage: %s &lt;integer&gt; [-h|-help]&#34;</span><span class="p">,</span> <span class="nx">binaryPath</span><span class="p">),</span>
</span></span><span class="line"><span class="ln"> 75</span><span class="cl">                <span class="s">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="ln"> 76</span><span class="cl">                <span class="s">&#34;A greeter application which prints the name you entered &lt;integer&gt; number of times.&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="ln"> 77</span><span class="cl">                <span class="s">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="ln"> 78</span><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="ln"> 79</span><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="ln"> 80</span><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 81</span><span class="cl">            <span class="nx">args</span><span class="p">:</span>                <span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">&#34;a&#34;</span><span class="p">},</span>
</span></span><span class="line"><span class="ln"> 82</span><span class="cl">            <span class="nx">expectedExitCode</span><span class="p">:</span>    <span class="mi">1</span><span class="p">,</span>
</span></span><span class="line"><span class="ln"> 83</span><span class="cl">            <span class="nx">expectedOutputLines</span><span class="p">:</span> <span class="p">[]</span><span class="kt">string</span><span class="p">{},</span>
</span></span><span class="line"><span class="ln"> 84</span><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="ln"> 85</span><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 86</span><span class="cl">            <span class="nx">args</span><span class="p">:</span>             <span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">&#34;2&#34;</span><span class="p">},</span>
</span></span><span class="line"><span class="ln"> 87</span><span class="cl">            <span class="nx">input</span><span class="p">:</span>            <span class="s">&#34;jane doe&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="ln"> 88</span><span class="cl">            <span class="nx">expectedExitCode</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="ln"> 89</span><span class="cl">            <span class="nx">expectedOutputLines</span><span class="p">:</span> <span class="p">[]</span><span class="kt">string</span><span class="p">{</span>
</span></span><span class="line"><span class="ln"> 90</span><span class="cl">                <span class="s">&#34;Your name please? Press the Enter key when done.&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="ln"> 91</span><span class="cl">                <span class="s">&#34;Nice to meet you jane doe&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="ln"> 92</span><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="ln"> 93</span><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="ln"> 94</span><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="ln"> 95</span><span class="cl">
</span></span><span class="line"><span class="ln"> 96</span><span class="cl">    <span class="nx">byteBuf</span> <span class="o">:=</span> <span class="nb">new</span><span class="p">(</span><span class="nx">bytes</span><span class="p">.</span><span class="nx">Buffer</span><span class="p">)</span>
</span></span><span class="line"><span class="ln"> 97</span><span class="cl">    <span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">tc</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">tests</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 98</span><span class="cl">        <span class="nx">t</span><span class="p">.</span><span class="nf">Logf</span><span class="p">(</span><span class="s">&#34;Executing:%v %v\n&#34;</span><span class="p">,</span> <span class="nx">binaryPath</span><span class="p">,</span> <span class="nx">tc</span><span class="p">.</span><span class="nx">args</span><span class="p">)</span>
</span></span><span class="line"><span class="ln"> 99</span><span class="cl">        <span class="nx">cmd</span> <span class="o">:=</span> <span class="nx">exec</span><span class="p">.</span><span class="nf">CommandContext</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span> <span class="nx">binaryPath</span><span class="p">,</span> <span class="nx">tc</span><span class="p">.</span><span class="nx">args</span><span class="o">...</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">100</span><span class="cl">        <span class="nx">cmd</span><span class="p">.</span><span class="nx">Stdout</span> <span class="p">=</span> <span class="nx">byteBuf</span>
</span></span><span class="line"><span class="ln">101</span><span class="cl">        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nx">tc</span><span class="p">.</span><span class="nx">input</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln">102</span><span class="cl">            <span class="nx">cmd</span><span class="p">.</span><span class="nx">Stdin</span> <span class="p">=</span> <span class="nx">strings</span><span class="p">.</span><span class="nf">NewReader</span><span class="p">(</span><span class="nx">tc</span><span class="p">.</span><span class="nx">input</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">103</span><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="ln">104</span><span class="cl">        <span class="nx">err</span> <span class="o">:=</span> <span class="nx">cmd</span><span class="p">.</span><span class="nf">Run</span><span class="p">()</span>
</span></span><span class="line"><span class="ln">105</span><span class="cl">
</span></span><span class="line"><span class="ln">106</span><span class="cl">        <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="o">&amp;&amp;</span> <span class="nx">tc</span><span class="p">.</span><span class="nx">expectedExitCode</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln">107</span><span class="cl">            <span class="nx">t</span><span class="p">.</span><span class="nf">Fatalf</span><span class="p">(</span><span class="s">&#34;Expected application to exit without an error. Got: %v&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">108</span><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="ln">109</span><span class="cl">
</span></span><span class="line"><span class="ln">110</span><span class="cl">        <span class="k">if</span> <span class="nx">cmd</span><span class="p">.</span><span class="nx">ProcessState</span><span class="p">.</span><span class="nf">ExitCode</span><span class="p">()</span> <span class="o">!=</span> <span class="nx">tc</span><span class="p">.</span><span class="nx">expectedExitCode</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln">111</span><span class="cl">            <span class="nx">t</span><span class="p">.</span><span class="nf">Log</span><span class="p">(</span><span class="nx">byteBuf</span><span class="p">.</span><span class="nf">String</span><span class="p">())</span>
</span></span><span class="line"><span class="ln">112</span><span class="cl">            <span class="nx">t</span><span class="p">.</span><span class="nf">Fatalf</span><span class="p">(</span><span class="s">&#34;Expected application to have exit code: %v. Got: %v&#34;</span><span class="p">,</span> <span class="nx">tc</span><span class="p">.</span><span class="nx">expectedExitCode</span><span class="p">,</span> <span class="nx">cmd</span><span class="p">.</span><span class="nx">ProcessState</span><span class="p">.</span><span class="nf">ExitCode</span><span class="p">())</span>
</span></span><span class="line"><span class="ln">113</span><span class="cl">
</span></span><span class="line"><span class="ln">114</span><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="ln">115</span><span class="cl">
</span></span><span class="line"><span class="ln">116</span><span class="cl">        <span class="nx">output</span> <span class="o">:=</span> <span class="nx">byteBuf</span><span class="p">.</span><span class="nf">String</span><span class="p">()</span>
</span></span><span class="line"><span class="ln">117</span><span class="cl">        <span class="nx">lines</span> <span class="o">:=</span> <span class="nx">strings</span><span class="p">.</span><span class="nf">Split</span><span class="p">(</span><span class="nx">output</span><span class="p">,</span> <span class="s">&#34;\n&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">118</span><span class="cl">        <span class="k">for</span> <span class="nx">num</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">tc</span><span class="p">.</span><span class="nx">expectedOutputLines</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln">119</span><span class="cl">            <span class="k">if</span> <span class="nx">lines</span><span class="p">[</span><span class="nx">num</span><span class="p">]</span> <span class="o">!=</span> <span class="nx">tc</span><span class="p">.</span><span class="nx">expectedOutputLines</span><span class="p">[</span><span class="nx">num</span><span class="p">]</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln">120</span><span class="cl">                <span class="nx">t</span><span class="p">.</span><span class="nf">Fatalf</span><span class="p">(</span><span class="s">&#34;Expected output line to be:%v, Got:%v&#34;</span><span class="p">,</span> <span class="nx">tc</span><span class="p">.</span><span class="nx">expectedOutputLines</span><span class="p">[</span><span class="nx">num</span><span class="p">],</span> <span class="nx">lines</span><span class="p">[</span><span class="nx">num</span><span class="p">])</span>
</span></span><span class="line"><span class="ln">121</span><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="ln">122</span><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="ln">123</span><span class="cl">        <span class="nx">byteBuf</span><span class="p">.</span><span class="nf">Reset</span><span class="p">()</span>
</span></span><span class="line"><span class="ln">124</span><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="ln">125</span><span class="cl"><span class="p">}</span></span></span></code></pre></div><h2 id="ì‹¤í–‰-ê²°ê³¼-ë‹µì•ˆ-ì½”ë“œ">ì‹¤í–‰ ê²°ê³¼ (ë‹µì•ˆ ì½”ë“œ)</h2>
<p>ì‹¤í–‰í•´ ë³´ë‹ˆ ì˜ˆìƒëŒ€ë¡œ ì•± ì‹¤í–‰ í…ŒìŠ¤íŠ¸ë„ Go ì–¸ì–´ì˜ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì¤‘ì˜ í•˜ë‚˜ë¡œ ì²˜ë¦¬ë˜ëŠ” ê²ƒìœ¼ë¡œ ë³´ì…ë‹ˆë‹¤.
ì•± ì‹¤í–‰ í…ŒìŠ¤íŠ¸ì˜ ê²½ìš° í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì‹¤í–‰í•  ë•Œë§ˆë‹¤ ë¡œê·¸ë¥¼ ë‚¨ê²¨ë‘ì—ˆë„¤ìš”.
ì–´ë–¤ ì¸ìì™€ í•¨ê»˜ ì‹¤í–‰í–ˆì„ ë•Œ ì—ëŸ¬ê°€ ë‚¬ëŠ”ì§€ ê¸ˆë°© íŒŒì•…í•  ìˆ˜ ìˆëŠ” ì¢‹ì€ ìŠµê´€ì¸ ê²ƒ ê°™ìŠµë‹ˆë‹¤.</p>





<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="ln"> 1</span><span class="cl">$ go <span class="nb">test</span> -v
</span></span><span class="line"><span class="ln"> 2</span><span class="cl"><span class="o">===</span> RUN   TestApplication
</span></span><span class="line"><span class="ln"> 3</span><span class="cl">    main_test.go:50: /home/jaehun/Dev/go-study/practical-go/chap01/manual-parse/manual-parse-app
</span></span><span class="line"><span class="ln"> 4</span><span class="cl">    main_test.go:98: Executing:/home/jaehun/Dev/go-study/practical-go/chap01/manual-parse/manual-parse-app <span class="o">[]</span>
</span></span><span class="line"><span class="ln"> 5</span><span class="cl">    main_test.go:98: Executing:/home/jaehun/Dev/go-study/practical-go/chap01/manual-parse/manual-parse-app <span class="o">[</span>-h<span class="o">]</span>
</span></span><span class="line"><span class="ln"> 6</span><span class="cl">    main_test.go:98: Executing:/home/jaehun/Dev/go-study/practical-go/chap01/manual-parse/manual-parse-app <span class="o">[</span>a<span class="o">]</span>
</span></span><span class="line"><span class="ln"> 7</span><span class="cl">    main_test.go:98: Executing:/home/jaehun/Dev/go-study/practical-go/chap01/manual-parse/manual-parse-app <span class="o">[</span>2<span class="o">]</span>
</span></span><span class="line"><span class="ln"> 8</span><span class="cl">--- PASS: TestApplication <span class="o">(</span>0.01s<span class="o">)</span>
</span></span><span class="line"><span class="ln"> 9</span><span class="cl"><span class="o">===</span> RUN   TestParseArgs
</span></span><span class="line"><span class="ln">10</span><span class="cl">--- PASS: TestParseArgs <span class="o">(</span>0.00s<span class="o">)</span>
</span></span><span class="line"><span class="ln">11</span><span class="cl"><span class="o">===</span> RUN   TestRunCmd
</span></span><span class="line"><span class="ln">12</span><span class="cl">--- PASS: TestRunCmd <span class="o">(</span>0.00s<span class="o">)</span>
</span></span><span class="line"><span class="ln">13</span><span class="cl"><span class="o">===</span> RUN   TestValidateArgs
</span></span><span class="line"><span class="ln">14</span><span class="cl">--- PASS: TestValidateArgs <span class="o">(</span>0.00s<span class="o">)</span>
</span></span><span class="line"><span class="ln">15</span><span class="cl">PASS
</span></span><span class="line"><span class="ln">16</span><span class="cl">ok      practical-go/chap01/manual-parse        0.239s</span></span></code></pre></div>]]></content:encoded>
    </item>
    
  </channel>
</rss>